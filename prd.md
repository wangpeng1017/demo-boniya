### **波尼亚AI平台 产品需求文档 (PRD)**

#### **1. 项目概述**

**1.1. 项目目标**
“波尼亚AI平台”旨在通过整合人工智能技术，解决公司在销售预测、市场竞争分析、客户服务、门店运营、质量控制和零售效率等方面的核心痛点。平台将数据转化为可行动的洞察，实现精细化管理，提升运营效率和决策的科学性。

**1.2. 目标用户**
- **管理层**: 通过数据报表和趋势分析，进行战略决策。
- **运营部门**: 监控门店标准化执行情况，优化流程。
- **销售部门**: 获取精准的销售预测和竞品动态，制定销售策略。
- **客服部门**: 高效处理客户反馈，提升服务质量。
- **IT/开发人员**: 负责平台维护和功能迭代。

**1.3. 技术架构与部署**
- **前端**: 使用React/Next.js框架进行开发，以实现快速的页面渲染和良好的用户体验。
- **后端**: 利用Next.js的API Routes构建Serverless后端服务。
- **数据库**: Vercel Postgres，用于存储业务数据。
- **文件存储**: Vercel Blob，用于存储用户上传的图片（如竞品照片、门店巡检照片等）。
- **部署**: 全平台部署在Vercel，实现CI/CD（持续集成/持续部署）。
- **AI模型**: AI算法模型（如销量预测、视觉识别）可以部署在专门的云服务（如Google AI Platform, AWS SageMaker或Hugging Face）上，通过API接口与本平台集成，以处理高计算负载。

#### **2. 系统总体设计**

**2.1. 布局设计**
系统采用经典的左侧导航栏布局，提供清晰的功能模块划分和流畅的用户体验。
- **左侧导航栏**: 固定显示，包含以下7个可点击的模块入口。
- **右侧内容区**: 根据左侧导航栏选择的模块，动态展示对应功能页面。

**2.2. 导航模块**
1.  **门店销售数量预测**
2.  **竞品价格分析**
3.  **电商平台数据分析**
4.  **智能客服管理**
5.  **门店运营标准化管理**
6.  **产品品质智能控制**
7.  **称重商品自动识别**

---

#### **3. 模块详细需求**

##### **3.1. 模块一：门店销售数量预测**

**3.1.1. 模块目标**
基于历史销售数据，结合时间维度（日常、周末、节假日）和外部变量（如天气），为各门店提供精准的商品订货量预测，优化库存，减少缺货与积压。

**3.1.2. 核心挑战**
- **数据提报流程繁琐**: 现有流程依赖小程序手动提报，有优化空间。
- **数据真实性问题**: 存在月底冲业绩压货、过期品退货等影响数据准确性的行为。
- **备货周期长**: 提前6天备货，对预测的准确性要求极高。

**3.1.3. 功能需求**
1.  **数据看板 (Dashboard)**
    -   **核心指标展示**: 以图表形式展示总销售额、预测准确率、库存周转天数等关键KPI。
    -   **销售趋势图**: 可按日/周/月查看全公司或指定门店的销售额/销量趋势。
2.  **销售预测查询与分析**
    -   **筛选功能**: 提供时间范围选择、门店选择（可多选）、物料名称/编码搜索功能。
    -   **数据输入**: 允许用户手动输入未来几天的天气情况、是否为节假日、门店是否有促销活动等外部变量，以调整预测模型。
    -   **结果展示**:
        -   以表格形式展示历史销量和AI预测销量。
        -   提供可视化图表，对比历史数据与预测曲线。
3.  **建议订单生成**
    -   系统根据预测销量、当前实时库存（需API对接）和安全库存阈值，自动生成建议的订货单。
    -   建议订单应清晰列出物料名称、编码、建议订货量和单位。
    -   用户可以对建议订单进行微调，并支持一键导出为Excel或CSV格式。

**3.1.4. 示例数据：历史销售数据**
此表格用于模型训练和前端展示。

| 日期 | 客户 | 物料编码 | 物料名称 | 库存单位 | 实发数量 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 2025/8/25 | 青岛市城阳区利客来城阳直营专柜 | B2102-026 | 肉枣肠 | 千克 | 0.902 |
| 2025/8/25 | 青岛市城阳区利客来城阳直营专柜 | B2103-022 | 酱猪耳 | 千克 | 0.414 |
| 2025/8/25 | 青岛市城阳区利客来城阳直营专柜 | B2103-025 | 酱猪肝 | 千克 | 1.74 |
| 2025/8/24 | 青岛市城阳区利客来城阳直营专柜 | B2102-022 | 蒜味烤肠 | 千克 | 24.996 |
| 2025/8/24 | 青岛市城阳区利客来城阳直营专柜 | B2102-025 | 维也纳香肠 | 千克 | 29.776 |
| 2025/8/23 | 青岛市城阳区利客来城阳直营专柜 | B2103-021 | 猪头肉 | 千克 | 25.85 |
| 2025/8/22 | 青岛市城阳区利客来城阳直营专柜 | B2102-025 | 维也纳香肠 | 千克 | 30.142 |
| 2025/8/21 | 青岛市城阳区利客来城阳直营专柜 | B2102-030 | 珍味肠 | 千克 | 5.564 |
| ... | ... | ... | ... | ... | ... |

*(注：此处仅列举部分数据作为格式示例，开发时请使用您提供的完整数据)*

---

##### **3.2. 模块二：竞品价格分析**

**3.2.1. 模块目标**
系统化、多维度（按区域、时段）地对主要竞品（喜旺、双汇、金锣）的价格进行收集与分析，快速应对市场变化。

**3.2.2. 核心挑战**
- **数据采集效率低**: 依赖销售人员拍照后手动录入，过程繁琐易错。
- **数据时效性差**: 每月一次的频率无法应对市场价格的快速变化。
- **覆盖范围广**: 20个线路下的所有门店，工作量巨大。

**3.2.3. 功能需求**
1.  **移动端适配数据采集工具**
    -   此页面需为移动端优化，界面简洁。
    -   提供**拍照上传**功能，可调用手机摄像头。
    -   系统在图片上传时，自动记录并附加**时间戳**和**地理位置**信息。
    -   上传后，系统调用OCR服务进行异步处理。用户可在Web端查看处理状态。
2.  **数据处理与校验（Web端）**
    -   **待处理列表**: 显示已上传但未经确认的图片及OCR初步识别结果。
    -   **识别结果编辑界面**: 以图片和表单并排的布局，方便用户核对和修正OCR自动提取的商品名称、规格、价格等信息。一张图片可能包含多个商品，需支持“新增一条记录”功能。
3.  **数据分析与可视化（Web端）**
    -   **数据报表**: 以表格形式展示所有已确认的竞品价格数据。
    -   **筛选与搜索**: 可按时间、地点（办事处）、竞品名称进行筛选和搜索。
    -   **价格对比视图**: 将“本品零售价”与“竞品零售价”并列展示，对价格有差异的项目进行高亮（例如，我方更贵用红色，更便宜用绿色）。
    -   支持数据导出为Excel。

**3.2.4. 示例数据：价格采集与对比**

| 序号 | 地点 | 本品名称 | 本品零售价(非促销价) | 喜旺名称 | 喜旺零售价(非促销价) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | 青岛办事处 | 经典1903 果木烤火腿(350g) | 19.9 | 手掰肉老火腿 340g | 22.9 |
| 2 | 青岛办事处 | 1981 青岛老火腿(300g) | 29.9 | 无淀粉大肉块火腿 340g | 26.9 |
| 6 | 青岛办事处 | 波尼亚烤肠五香(160g) | 7.9 | 喜旺烤肠 160g | 7.9 |
| 16 | 城阳即墨 | 经典1903 果木烤火腿(350g) | 19.9 | 手掰肉老火腿 340g | 26.9 |
| 21 | 城阳即墨 | 波尼亚烤肠五香(160g) | 7.9 | 喜旺烤肠 160g | 7.9 |
| 25 | 城阳即墨 | 金质猪肉枣香肠(160g) | 7.9 | 玫瑰肉枣 130g | 12.9 |
| ... | ... | ... | ... | ... | ... |

*(注：数据源自您提供的示例表格)*

---

*（后续模块将遵循相同的结构进行详细阐述）*

##### **3.3. 模块三：电商平台数据分析**

**3.3.1. 模块目标**
整合多电商平台（京东、天猫、拼多多、私域）的售后反馈，进行系统化分析，发现共性问题，优化产品与服务流程。

**3.3.2. 功能需求**
1.  **数据集成中台**
    -   提供API接口或手动上传（Excel/CSV）功能，用于汇集各平台的订单与售后数据。
2.  **售后反馈智能分析**
    -   利用NLP技术，自动分析顾客的文字评论和留言。
    -   **关键词提取与词云展示**: 直观显示用户反馈的热点问题，如“漏气”、“不新鲜”、“包装破损”、“发货慢”等。
    -   **情感分析**: 将每条反馈自动标记为“正面”、“负面”或“中性”，并统计占比。
    -   **问题分类**: 自动将问题归类到预设的标签下（如：产品品质、物流包装、客服态度、活动建议等）。
3.  **全流程跟踪视图**
    -   构建从“订单-售后-品控反馈”的全流程数字化跟踪。
    -   用户可以点击某个具体问题（如“漏气”），追溯到相关的订单批次、生产日期和处理客服。

---

##### **3.4. 模块四：智能客服管理**

**3.4.1. 模块目标**
对全渠道客户投诉与反馈进行统一管理和智能分析，提升服务效率和问题解决深度。

**3.4.2. 功能需求**
1.  **统一客服工单（Ticket）系统**
    -   整合所有渠道（电话录音、在线客服、社交媒体）的反馈，创建统一的工单。
    -   工单应包含客户信息、反馈渠道、问题描述、处理状态、责任人等字段。
2.  **语音转文字**
    -   集成语音识别技术，将客服电话的MP3录音文件自动转换为文本，并附加到对应工单中。
3.  **NLP深度分析**
    -   对所有反馈文本进行智能分类和关键词提取，深度分析投诉原因。例如，对于占比高达50%的“异物”投诉，进一步细分为“毛发”、“塑料”、“非食品成分”等，以定位具体环节。
4.  **自动回访机器人**
    -   开发自动回访功能，对已关闭的工单通过短信或智能外呼进行满意度调查。

---

##### **3.5. 模块五：门店运营标准化管理**

**3.5.1. 模块目标**
通过技术手段对门店员工着装、商品陈列等标准化执行情况进行自动监控和实时预警，取代低效的人工巡检。

**3.5.2. 功能需求**
1.  **智能视频监控接入**
    -   系统能够接入现有店内监控摄像头的视频流。
    -   提供摄像头管理界面，用于配置各门店的摄像头地址和监控区域。
2.  **AI视觉识别算法应用**
    -   **员工着装合规性分析**: 自动识别员工是否按规定佩戴口罩、帽子、标准工装。
    -   **在岗行为分析**: 自动识别长时间空岗（如超过30分钟）、长时间玩手机等违规行为，并触发预警。
    -   **商品陈列标准化**: （可扩展功能）自动检测商品摆放是否符合公司的陈列标准。
3.  **预警与报告**
    -   当检测到不合规行为时，系统立即生成预警信息，并通过应用内通知或钉钉/企业微信推送给相关管理人员。
    -   预警信息应包含门店名称、时间、问题截图和违规描述。
    -   系统定期生成各门店的标准化执行报告，包含合规率、主要问题项等。

---

##### **3.6. 模块六：产品品质智能控制**

**3.6.1. 模块目标**
利用AI技术提升来货检验、发货检验和生产过程中异物检验的效率与准确性。

**3.6.2. 功能需求**
1.  **工业AI视觉检测系统**
    -   **来货检验**:
        -   在质检环节部署，通过高清摄像头拍摄来货。
        -   AI自动识别并比对标签信息（生产日期、批号等）。
        -   检测纸箱/纸盒外观是否有破损、污渍等瑕疵。
    -   **生产过程检验**:
        -   在生产线上安装高清摄像头。
        -   AI实时识别生产过程中的常见异物（如毛发、塑料膜、蓝膜等），并发出警报。
2.  **模型管理与训练**
    -   提供一个简单的界面，供管理员上传新的瑕疵/异物样本图片，用于模型的持续优化。

---

##### **3.7. 模块七：称重商品自动识别**

**3.7.1. 模块目标**
在顾客称重散装商品时，通过摄像头自动识别商品品类，并同步至结算系统，提升收银效率。

**3.7.2. 核心挑战**
- **形态不规则**: 散装肉类（如牛肉）被切割后形状各异，对识别算法精度要求高。
- **系统集成**: 需要与现有的MOP收银系统（300元/月/店）进行数据对接。

**3.7.3. 功能需求**
1.  **AI视觉识别模型训练平台**
    -   提供商品管理界面，可以为每个SKU上传高清商品图片。
    -   需要支持上传各种形态（完整、切割）、各种角度、各种光照条件下的图片，用于训练一个鲁棒性强的识别模型。
2.  **模型部署与API服务**
    -   将训练成熟的AI模型部署到云端，并提供API接口。
3.  **系统集成配置**
    -   提供配置页面，用于填写MOP系统的API地址和认证信息，实现数据对接。
    -   当称重设备上的摄像头捕捉图像后，调用AI识别API，API返回最可能的商品列表（及置信度），收银员可快速选择。
4.  **识别效果监控**
    -   后台记录每次识别的成功率和失败案例，为模型优化提供数据支持。